<html>
  <head>
    <title>My first three.js app</title>
    <style>
      body {
        margin: 0px;
      }
      canvas {
        display: block;
      }
      div{
        width: 90%
        ;
      }
    </style>
  </head>
  <body>
    

<div id="77"></div>

    <script type="module">
     
            import { OBJLoader } from './OBJLoader.js';
import { OrbitControls } from "./OrbitControls.js";
import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/build/three.module.js';

      


      var scene = new THREE.Scene();
      var camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );



//begin import
var loader = new OBJLoader();
// load a resource
loader.load(
	// resource URL
	'MONKEY.obj',
	// called when resource is loaded
	function ( object ) {
		scene.add( object );
	},
	// called when loading is in progresses
	function ( xhr ) {
		console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );
	},
	// called when loading has errors
	function ( error ) {
		console.log( 'An error happened' );
	}
);
//
  


var renderer =new THREE.WebGLRenderer( { antialias: true, autoSize: true } );
      renderer.setSize(window.innerWidth, window.innerHeight);
      //document.body.appendChild(renderer.domElement);
 var canvas= document.getElementById('77').appendChild( renderer.domElement );

var controls = new OrbitControls( camera, renderer.domElement );

      var geometry = new THREE.TorusGeometry( 1.8, 0.2, 16, 100 );
      var material = new THREE.MeshBasicMaterial({ color: 0xffff0 });
      var cube = new THREE.Mesh(geometry, material);
      scene.add(cube);

      //LUCES
      var light = new THREE.PointLight( 0xff0000, 1, 1000 );
      light.position.set( -50, 50, 50 );
      scene.add( light );

      var light1 = new THREE.PointLight( 0xff0000, 1, 1000 );
      light1.position.set( 50, 5, 50 );
      scene.add( light1 );

      var light2 = new THREE.PointLight( 0xff0000, 1, 1000 );
      light1.position.set( 50, -50, -50 );
      scene.add( light2 );


      camera.position.z = 2;
      camera.position.y = -1;
      camera.position.x = -2;

      var loader = new THREE.TextureLoader();
  var bgTexture = loader.load('https://threejsfundamentals.org/threejs/resources/images/daikanyama.jpg');
  scene.background = bgTexture;


      controls.update();
      
//centrar al modificar el tamaÃ±o.
window.addEventListener( 'resize', onWindowResize, false );

function onWindowResize(){
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize( window.innerWidth, window.innerHeight );
}
//
      var animate = function () {
        requestAnimationFrame(animate);
        
        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;
       // object.rotation.x += 0.01;
  
//ajustar adecuadamente la imagen del fondo
  // Set the repeat and offset properties of the background texture
  // to keep the image's aspect correct.
  // Note the image may not have loaded yet.
  const canvasAspect = canvas.clientWidth / canvas.clientHeight;
  const imageAspect = bgTexture.image ? bgTexture.image.width / bgTexture.image.height : 1;
  const aspect = imageAspect / canvasAspect;
 
  bgTexture.offset.x = aspect > 1 ? (1 - 1 / aspect) / 2 : 0;
  bgTexture.repeat.x = aspect > 1 ? 1 / aspect : 1;
 
  bgTexture.offset.y = aspect > 1 ? 0 : (1 - aspect) / 2;
  bgTexture.repeat.y = aspect > 1 ? 1 : aspect;
        
        renderer.render(scene, camera);
      };

      animate();
    </script>


<h1>Title</h1>
Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minus est, delectus molestias quaerat autem et consectetur commodi id odit eum ab sapiente atque fuga veniam corporis error debitis at facilis.

   
  </body>
</html>


